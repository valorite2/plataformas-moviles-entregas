<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tablero de Puntos - DOM y JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <style>
        .team-name { font-weight: bold; }
        .local { background-color: #d1e7dd; }
        .visitante { background-color: #f8d7da; }
        .disabled { pointer-events: none; opacity: 0.6; }
    </style>
</head>
<body>
<div class="container my-4">
    <h1>Tablero de Puntos</h1>
    <div class="card">
        <div class="card-body text-center">
            <div class="row align-items-center mb-3">
                <div class="col-5 local py-2 rounded">
                    <span class="display-1" id="scoreLocal">0</span>
                    <p class="m-0 team-name" id="nameLocal">Local</p>
                </div>
                <div class="col-2 display-1">:</div>
                <div class="col-5 visitante py-2 rounded">
                    <span class="display-1" id="scoreVisitante">0</span>
                    <p class="m-0 team-name" id="nameVisitante">Visitante</p>
                </div>
            </div>

            <hr>

            <h2>Actualizar Contador</h2>
            <div class="row mb-3">
                <div class="col-12 col-sm-2 my-1">
                    <button class="btn btn-primary w-100" id="sumLocal">+ Local</button>
                </div>
                <div class="col-12 col-sm-2 my-1">
                    <button class="btn btn-primary w-100" id="restLocal">- Local</button>
                </div>
                <div class="col-12 col-sm-2 my-1">
                    <button class="btn btn-primary w-100" id="sumVisitante">+ Visitante</button>
                </div>
                <div class="col-12 col-sm-2 my-1">
                    <button class="btn btn-primary w-100" id="restVisitante">- Visitante</button>
                </div>
                <div class="col-12 col-sm-2 my-1">
                    <button class="btn btn-warning w-100" id="invertir">Invertir Puntaje</button>
                </div>
                <div class="col-12 col-sm-2 my-1">
                    <button class="btn btn-danger w-100" id="finalizar">Finalizar Partido</button>
                </div>
            </div>

            <div class="row">
                <div class="col-12 col-sm-3 my-1">
                    <button class="btn btn-secondary w-100" id="reinicio">Reiniciar Tablero</button>
                </div>
                <div class="col-12 col-sm-3 my-1">
                    <input type="text" id="inputLocal" class="form-control" placeholder="Nombre Local">
                </div>
                <div class="col-12 col-sm-3 my-1">
                    <input type="text" id="inputVisitante" class="form-control" placeholder="Nombre Visitante">
                </div>
                <div class="col-12 col-sm-3 my-1">
                    <input type="color" id="colorLocal" class="form-control" title="Color Local">
                    <input type="color" id="colorVisitante" class="form-control mt-1" title="Color Visitante">
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const scoreLocal = document.getElementById('scoreLocal');
    const scoreVisitante = document.getElementById('scoreVisitante');
    const nameLocal = document.getElementById('nameLocal');
    const nameVisitante = document.getElementById('nameVisitante');

    const sumLocal = document.getElementById('sumLocal');
    const restLocal = document.getElementById('restLocal');
    const sumVisitante = document.getElementById('sumVisitante');
    const restVisitante = document.getElementById('restVisitante');
    const invertir = document.getElementById('invertir');
    const finalizar = document.getElementById('finalizar');
    const reinicio = document.getElementById('reinicio');

    const inputLocal = document.getElementById('inputLocal');
    const inputVisitante = document.getElementById('inputVisitante');
    const colorLocal = document.getElementById('colorLocal');
    const colorVisitante = document.getElementById('colorVisitante');

    let isFinalizado = false;

    function actualizarScore(localChange, visitanteChange) {
        if (isFinalizado) return;
        scoreLocal.textContent = Math.max(0, parseInt(scoreLocal.textContent) + localChange);
        scoreVisitante.textContent = Math.max(0, parseInt(scoreVisitante.textContent) + visitanteChange);
    }

    sumLocal.addEventListener('click', () => actualizarScore(1,0));
    restLocal.addEventListener('click', () => actualizarScore(-1,0));
    sumVisitante.addEventListener('click', () => actualizarScore(0,1));
    restVisitante.addEventListener('click', () => actualizarScore(0,-1));

    invertir.addEventListener('click', () => {
        const temp = scoreLocal.textContent;
        scoreLocal.textContent = scoreVisitante.textContent;
        scoreVisitante.textContent = temp;
    });

    finalizar.addEventListener('click', () => {
        isFinalizado = true;
        document.querySelectorAll('button').forEach(btn => btn.classList.add('disabled'));
    });

    reinicio.addEventListener('click', () => {
        scoreLocal.textContent = 0;
        scoreVisitante.textContent = 0;
        isFinalizado = false;
        document.querySelectorAll('button').forEach(btn => btn.classList.remove('disabled'));
    });

    inputLocal.addEventListener('change', () => nameLocal.textContent = inputLocal.value || 'Local');
    inputVisitante.addEventListener('change', () => nameVisitante.textContent = inputVisitante.value || 'Visitante');

    colorLocal.addEventListener('input', () => nameLocal.parentElement.style.backgroundColor = colorLocal.value);
    colorVisitante.addEventListener('input', () => nameVisitante.parentElement.style.backgroundColor = colorVisitante.value);

    // Atajos de teclado
    document.addEventListener('keydown', (e) => {
        if (isFinalizado) return;
        switch(e.key){
            case 'q': actualizarScore(1,0); break;      // + Local
            case 'a': actualizarScore(-1,0); break;     // - Local
            case 'w': actualizarScore(0,1); break;      // + Visitante
            case 's': actualizarScore(0,-1); break;     // - Visitante
        }
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
